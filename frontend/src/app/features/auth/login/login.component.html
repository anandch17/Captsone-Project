<form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-5">
  <div>
    <label for="email" class="block text-sm font-semibold text-slate-700 mb-2">Email Address</label>
    <div class="relative">
      <div class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none">
        <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-slate-400">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
        </svg>
      </div>
      <input id="email" type="email" formControlName="email"
        class="w-full pl-11 pr-4 py-3 text-[15px] font-medium text-slate-900 bg-slate-50 border border-slate-200 rounded-xl placeholder-slate-400 hover:bg-white hover:border-sky-300 focus:bg-white focus:outline-none focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 transition-all duration-200"
        placeholder="you@example.com" />
    </div>
    @if (form.get('email')?.invalid && form.get('email')?.touched) {
    <p class="text-[0.8125rem] text-red-500 font-medium mt-1.5 flex items-center gap-1"><svg fill="none"
        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-3.5 h-3.5">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
      </svg>Valid email is required.</p>
    }
  </div>

  <div>
    <div class="flex justify-between items-center mb-2">
      <label for="password" class="block text-sm font-semibold text-slate-700">Password</label>
      <a routerLink="/forgot-password"
        class="text-xs font-semibold text-sky-600 hover:text-sky-700 hover:underline">Forgot?</a>
    </div>
    <div class="relative">
      <div class="absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none">
        <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-slate-400">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
        </svg>
      </div>
      <input id="password" type="password" formControlName="password"
        class="w-full pl-11 pr-4 py-3 text-[15px] font-medium text-slate-900 bg-slate-50 border border-slate-200 rounded-xl placeholder-slate-400 hover:bg-white hover:border-sky-300 focus:bg-white focus:outline-none focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 transition-all duration-200"
        placeholder="••••••••" />
    </div>
    @if (form.get('password')?.invalid && form.get('password')?.touched) {
    <p class="text-[0.8125rem] text-red-500 font-medium mt-1.5 flex items-center gap-1"><svg fill="none"
        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-3.5 h-3.5">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
      </svg>Password is required.</p>
    }
  </div>

  <div>
    <ngx-recaptcha2 [siteKey]="siteKey" formControlName="recaptcha" [useGlobalDomain]="false"></ngx-recaptcha2>
    @if (form.get('recaptcha')?.invalid && form.get('recaptcha')?.touched) {
    <p class="text-[0.8125rem] text-red-500 font-medium mt-1.5 flex items-center gap-1"><svg fill="none"
        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-3.5 h-3.5">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
      </svg>Please complete the captcha.</p>
    }
  </div>

  <button type="submit" [disabled]="form.invalid || loading()"
    class="w-full mt-2 py-3.5 px-4 text-[15px] font-bold text-white bg-sky-600 rounded-xl hover:bg-sky-700 focus:outline-none focus:ring-4 focus:ring-sky-500/20 shadow-lg shadow-sky-500/30 disabled:bg-sky-400 disabled:shadow-none disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2">
    {{ loading() ? 'Signing in...' : 'Sign In' }}
    <svg fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9" />
    </svg>
  </button>
</form>