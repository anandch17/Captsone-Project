<app-card title="Create Agent / Claim Officer">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4 max-w-md">
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Role</label>
      <select formControlName="role" class="w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-800">
        <option value="Agent">Agent</option>
        <option value="ClaimOfficer">Claim Officer</option>
      </select>
    </div>
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Name</label>
      <input formControlName="username" class="w-full rounded-lg border border-slate-300 px-3 py-2" placeholder="Name" />
    </div>
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Email</label>
      <input formControlName="email" type="email" class="w-full rounded-lg border border-slate-300 px-3 py-2" placeholder="Email" />
    </div>
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Password</label>
      <input formControlName="password" type="password" class="w-full rounded-lg border border-slate-300 px-3 py-2" placeholder="Password" />
    </div>
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Aadhar No</label>
      <input formControlName="aadharNo" class="w-full rounded-lg border border-slate-300 px-3 py-2" placeholder="Aadhar number" />
    </div>
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Date of Birth</label>
      <input formControlName="dateOfBirth" type="date" class="w-full rounded-lg border border-slate-300 px-3 py-2" />
    </div>
    @if (form.get('role')?.value === 'Agent') {
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">Commission Rate (%)</label>
        <input formControlName="commissionRate" type="number" min="0" class="w-full rounded-lg border border-slate-300 px-3 py-2" />
      </div>
    }
    <button
      type="submit"
      [disabled]="form.invalid || loading()"
      class="rounded-lg bg-sky-600 px-4 py-2 text-white hover:bg-sky-700 disabled:opacity-50"
    >
      {{ loading() ? 'Creating...' : 'Create' }}
    </button>
  </form>
</app-card>
